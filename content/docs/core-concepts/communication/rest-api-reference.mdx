---
title: REST API Reference
description: Complete reference for ElizaOS REST API endpoints
---

## Overview

The ElizaOS REST API provides comprehensive endpoints for managing agents, messaging, memory, media, and system operations. All endpoints are prefixed with `/api` and return JSON responses.

## Base Configuration

### Base URL
```
http://localhost:3000/api
```

### Authentication
If `ELIZA_SERVER_AUTH_TOKEN` is set, include the API key in headers:
```http
X-API-KEY: your-api-key
```

### Response Format

**Success Response:**
```json
{
  "success": true,
  "data": { /* endpoint-specific data */ }
}
```

**Error Response:**
```json
{
  "success": false,
  "error": {
    "code": "ERROR_CODE",
    "message": "Human readable error message",
    "details": "Additional error information"
  }
}
```

## Agent Management

### List All Agents
```http
GET /api/agents
```

**Response:**
```json
{
  "success": true,
  "data": {
    "agents": [
      {
        "id": "agent-uuid",
        "name": "Agent Name",
        "characterName": "Character Name",
        "bio": "Agent biography",
        "status": "active" | "inactive"
      }
    ]
  }
}
```

### Get Agent Details
```http
GET /api/agents/:agentId
```

**Response:**
```json
{
  "success": true,
  "data": {
    "id": "agent-uuid",
    "name": "Agent Name",
    "bio": ["Biography lines"],
    "lore": ["Lore entries"],
    "knowledge": ["Knowledge items"],
    "topics": ["conversation", "topics"],
    "status": "active" | "inactive"
  }
}
```

### Create Agent
```http
POST /api/agents
```

**Request Body:**
```json
{
  "characterJson": { /* character configuration */ },
  // OR
  "characterPath": "/path/to/character.json",
  // OR
  "agent": { /* agent configuration */ }
}
```

### Start Agent
```http
POST /api/agents/:agentId/start
```

**Response:**
```json
{
  "success": true,
  "data": {
    "id": "agent-uuid",
    "character": { /* character data */ },
    "status": "active"
  }
}
```

### Stop Agent
```http
POST /api/agents/:agentId/stop
```

## Messaging

### List Servers
```http
GET /api/messaging/servers
```

**Response:**
```json
{
  "success": true,
  "data": {
    "servers": [
      {
        "id": "server-uuid",
        "name": "Server Name",
        "sourceType": "eliza_default",
        "metadata": {},
        "createdAt": "2024-01-01T00:00:00Z"
      }
    ]
  }
}
```

### List Channels
```http
GET /api/messaging/servers/:serverId/channels
```

**Query Parameters:**
- `participantId` - Filter channels by participant

**Response:**
```json
{
  "success": true,
  "data": {
    "channels": [
      {
        "id": "channel-uuid",
        "name": "Channel Name",
        "type": "dm" | "group",
        "participants": ["user-uuid-1", "user-uuid-2"],
        "lastMessageAt": "2024-01-01T00:00:00Z"
      }
    ]
  }
}
```

### Create Channel
```http
POST /api/messaging/servers/:serverId/channels
```

**Request Body:**
```json
{
  "name": "Channel Name",
  "type": "dm" | "group",
  "participants": ["user-uuid-1", "user-uuid-2"],
  "metadata": {}
}
```

### Send Message
```http
POST /api/messaging/channels/:channelId/messages
```

**Request Body:**
```json
{
  "content": "Message text",
  "authorId": "sender-uuid",
  "attachments": [],
  "metadata": {}
}
```

### Get Messages
```http
GET /api/messaging/channels/:channelId/messages
```

**Query Parameters:**
- `limit` - Number of messages (default: 50)
- `before` - ISO timestamp for pagination

**Response:**
```json
{
  "success": true,
  "data": {
    "messages": [
      {
        "id": "message-uuid",
        "content": "Message content",
        "authorId": "author-uuid",
        "channelId": "channel-uuid",
        "createdAt": "2024-01-01T00:00:00Z",
        "metadata": {}
      }
    ]
  }
}
```

### Delete Message
```http
DELETE /api/messaging/messages/:messageId
```

## Memory Management

### Search Agent Memory
```http
GET /api/memory/agents/:agentId/search
```

**Query Parameters:**
- `query` - Search text (required)
- `limit` - Result limit (default: 10)

**Response:**
```json
{
  "success": true,
  "data": {
    "memories": [
      {
        "id": "memory-uuid",
        "content": {
          "text": "Memory content",
          "source": "conversation"
        },
        "similarity": 0.95,
        "createdAt": "2024-01-01T00:00:00Z"
      }
    ]
  }
}
```

### Create Memory
```http
POST /api/memory/agents/:agentId/memories
```

**Request Body:**
```json
{
  "content": {
    "text": "Memory content",
    "type": "reflection" | "fact" | "dialogue"
  },
  "roomId": "optional-room-uuid"
}
```

### Get Memories by Room
```http
GET /api/memory/agents/:agentId/rooms/:roomId/memories
```

**Query Parameters:**
- `unique` - Return only unique memories (default: true)

### Remove Memory
```http
DELETE /api/memory/agents/:agentId/memories/:memoryId
```

### Remove All Memories
```http
DELETE /api/memory/agents/:agentId/memories
```

**Query Parameters:**
- `confirm` - Must be "true" to execute

## Audio Processing

### Transcribe Audio
```http
POST /api/audio/transcribe
```

**Request:**
- Content-Type: `multipart/form-data`
- Field: `audio` - Audio file

**Response:**
```json
{
  "success": true,
  "data": {
    "text": "Transcribed text",
    "service": "openai"
  }
}
```

### Generate Speech
```http
POST /api/audio/speech
```

**Request Body:**
```json
{
  "text": "Text to convert to speech",
  "voice": "en-US-Neural2-A",
  "service": "google" | "openai" | "elevenlabs"
}
```

**Response:**
```json
{
  "success": true,
  "data": {
    "audio": "base64-encoded-audio",
    "format": "mp3",
    "sampleRate": 24000
  }
}
```

### Process Audio Conversation
```http
POST /api/audio/agents/:agentId/conversation
```

**Request:**
- Content-Type: `multipart/form-data`
- Field: `audio` - Audio file
- Field: `roomId` - Room UUID

**Response:**
```json
{
  "success": true,
  "data": {
    "text": "User's transcribed speech",
    "response": "Agent's response",
    "audio": "base64-encoded-response-audio"
  }
}
```

## Media Management

### Upload Agent Media
```http
POST /api/media/agents/:agentId/upload
```

**Request:**
- Content-Type: `multipart/form-data`
- Field: `file` - Media file

**Response:**
```json
{
  "success": true,
  "data": {
    "url": "/media/uploads/agents/{agentId}/filename.ext",
    "filename": "filename.ext",
    "mimeType": "image/jpeg",
    "size": 12345
  }
}
```

### Upload Channel Media
```http
POST /api/media/channels/:channelId/upload
```

### Generate Media
```http
POST /api/media/agents/:agentId/generate
```

**Request Body:**
```json
{
  "prompt": "Image generation prompt",
  "type": "image",
  "service": "openai"
}
```

**Response:**
```json
{
  "success": true,
  "data": {
    "url": "/media/generated/{agentId}/generated-image.png",
    "metadata": {
      "prompt": "Original prompt",
      "model": "dall-e-3"
    }
  }
}
```

## Server Management

### Server Status
```http
GET /api/server/status
```

**Response:**
```json
{
  "success": true,
  "data": {
    "uptime": 3600,
    "agents": {
      "active": 2,
      "total": 5
    },
    "memory": {
      "used": 256000000,
      "total": 512000000
    }
  }
}
```

### Health Check
```http
GET /api/server/health
```

**Response:**
```json
{
  "status": "healthy",
  "timestamp": "2024-01-01T00:00:00Z",
  "services": {
    "database": "connected",
    "messageQueue": "active"
  }
}
```

### Ping
```http
GET /api/server/ping
```

**Response:**
```text
pong
```

### Debug Information
```http
GET /api/server/debug
```

**Response:**
```json
{
  "success": true,
  "data": {
    "environment": "development",
    "nodeVersion": "20.0.0",
    "elizaVersion": "0.1.0",
    "plugins": ["@elizaos/plugin-discord", "@elizaos/plugin-twitter"]
  }
}
```

## System Configuration

### Get Environment Info
```http
GET /api/system/environment
```

**Response:**
```json
{
  "success": true,
  "data": {
    "nodeEnv": "development",
    "serverUrl": "http://localhost:3000",
    "features": {
      "ui": true,
      "auth": false
    }
  }
}
```

### Get Version
```http
GET /api/system/version
```

**Response:**
```json
{
  "version": "0.1.0",
  "commit": "abc123",
  "buildDate": "2024-01-01T00:00:00Z"
}
```

## TEE Operations

### Generate Remote Attestation
```http
POST /api/tee/attestation
```

**Request Body:**
```json
{
  "reportData": "custom-report-data"
}
```

**Response:**
```json
{
  "success": true,
  "data": {
    "attestation": "base64-encoded-attestation",
    "signature": "attestation-signature"
  }
}
```

### Derive Key
```http
POST /api/tee/derive-key
```

**Request Body:**
```json
{
  "path": "/path/to/derive",
  "data": "input-data"
}
```

## Error Codes

Common error codes returned by the API:

| Code | Description |
|------|-------------|
| `INVALID_ID` | Invalid UUID format |
| `NOT_FOUND` | Resource not found |
| `INVALID_REQUEST` | Invalid request parameters |
| `DB_ERROR` | Database operation failed |
| `AUTH_REQUIRED` | Authentication required |
| `FORBIDDEN` | Insufficient permissions |
| `RATE_LIMITED` | Too many requests |
| `INTERNAL_ERROR` | Server error |

## Rate Limiting

API endpoints are rate-limited to prevent abuse:
- Default: 100 requests per minute per IP
- File uploads: 10 requests per minute per IP
- Can be configured via environment variables

## CORS Configuration

CORS is enabled with the following defaults:
- Origin: Configured via `CORS_ORIGIN` env var or `*`
- Credentials: Enabled
- Methods: GET, POST, PUT, DELETE, PATCH, OPTIONS
- Headers: Content-Type, Authorization, X-API-KEY

## File Size Limits

- JSON payloads: 100KB (configurable via `EXPRESS_MAX_PAYLOAD`)
- File uploads: 10MB per file
- Audio files: 25MB
- Generated content: Limited by disk space

## Best Practices

1. **Always handle errors** - Check for error responses
2. **Use proper content types** - Set Content-Type headers
3. **Validate UUIDs** - Ensure valid UUID format
4. **Implement retries** - Add exponential backoff
5. **Cache responses** - Use appropriate cache headers
6. **Monitor rate limits** - Track X-RateLimit headers
7. **Secure file uploads** - Validate file types and sizes